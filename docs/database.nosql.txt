ðŸ”µ COLLECTION: chats
Stores chat metadata for the inbox view.

chats/
   {chatId}/
      type: string                // "group" or "dm"
      participants: number[]      // Array of SQL user_ids (e.g., [1001, 1002])
      lastMessage: string         // Preview text
      lastMessageTime: timestamp  // For sorting the inbox
      meta: object                // {unitId: 101, name: "Unit 101 Chat"}

ðŸ”µ SUBCOLLECTION: chats/{chatId}/messages
Stores every message in chronological order.

chats/{chatId}/messages/
   {messageId}/
      sender_id: number           // SQL user_id
      sender_name: string         // Denormalized/Cached name for fast rendering
      text: string
      type: string                // "text", "image", "file"
      file_url: string            // Storage bucket URL
      created_at: timestamp
      read_by: number[]           // Array of SQL user_ids who have seen the message

ðŸ”µ COLLECTION: users_nosql
Extends the SQL Users table with real-time specific data.

users_nosql/
   {sql_user_id}/
      fcm_token: string           // Token for mobile push notifications
      is_online: boolean          // Real-time presence flag

ðŸ”µ SUBCOLLECTION: users_nosql/{sql_user_id}/notifications
Stores personalized, user-specific alerts.

users_nosql/{sql_user_id}/notifications/
   {notifId}/
      title: string
      body: string
      type: string                // LEASE_DUE, PACKAGE, MAINTENANCE_UPDATE
      action_link: string         // Deep link to frontend route (e.g., /payments/lease/120)
      is_read: boolean
      created_at: timestamp

ðŸ”µ COLLECTION: group_files
Stores metadata for files shared within official roommate groups.

group_files/
   {fileId}/
      sql_group_id: number        // FK from SQL roommate_groups
      sql_uploader_id: number     // FK from SQL users
      uploader_name: string       // Cached name
      file_name: string
      file_url: string            // Storage bucket URL
      uploaded_at: timestamp